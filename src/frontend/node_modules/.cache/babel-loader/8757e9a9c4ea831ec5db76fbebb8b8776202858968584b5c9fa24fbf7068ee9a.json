{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport { ref } from 'vue';\nimport { useStore } from 'vuex';\nimport { useRouter } from 'vue-router';\nimport services from '../../services/services.js';\nexport default {\n  setup() {\n    const email = ref('');\n    const password = ref('');\n    const err = ref(null);\n    const succ = ref(null);\n    const store = useStore();\n    const router = useRouter();\n    const login = async () => {\n      try {\n        const response = await services.login({\n          email: email.value,\n          password: password.value\n        });\n        store.dispatch('setToken', response.data.token);\n        store.dispatch('setUser', response.data.user);\n        store.dispatch('setPage', 1);\n        router.push({\n          name: 'home'\n        });\n        err.value = null;\n        succ.value = response;\n      } catch (error) {\n        succ.value = null;\n        err.value = formatError(error.response.data.msg);\n      }\n    };\n    const formatError = errorMessage => {\n      return errorMessage.replace(/\\n/g, '<br>');\n    };\n    return {\n      email,\n      password,\n      err,\n      succ,\n      login\n    };\n  }\n};","map":{"version":3,"names":["ref","useStore","useRouter","services","setup","email","password","err","succ","store","router","login","response","value","dispatch","data","token","user","push","name","error","formatError","msg","errorMessage","replace"],"sources":["C:\\Users\\mynig\\VScodium\\Book-Recommender\\frontend\\src\\views\\LoginView.vue"],"sourcesContent":["<template>\r\n    <div>\r\n      <input type=\"email\" placeholder=\"email\" name=\"email\" v-model=\"email\" />\r\n      <br />\r\n      <input type=\"password\" placeholder=\"password\" name=\"password\" v-model=\"password\" />\r\n      <br />\r\n      <button @click=\"login\">Log In</button>\r\n      <p v-if=\"err\" v-html=\"err\"></p>\r\n      <p style=\"color: red;\" v-if=\"succ\">{{ succ }}</p>\r\n    </div>\r\n  </template>\r\n  \r\n  <script>\r\n  import { ref } from 'vue';\r\n  import { useStore } from 'vuex';\r\n  import { useRouter } from 'vue-router';\r\n  import services from '../../services/services.js';\r\n  \r\n  export default {\r\n    setup() {\r\n      const email = ref('');\r\n      const password = ref('');\r\n      const err = ref(null);\r\n      const succ = ref(null);\r\n      const store = useStore();\r\n      const router = useRouter();\r\n  \r\n      const login = async () => {\r\n        try {\r\n          const response = await services.login({\r\n            email: email.value,\r\n            password: password.value\r\n          });\r\n          store.dispatch('setToken', response.data.token);\r\n          store.dispatch('setUser', response.data.user);\r\n          store.dispatch('setPage', 1);\r\n          router.push({ name: 'home' });\r\n          err.value = null;\r\n          succ.value = response;\r\n        } catch (error) {\r\n          succ.value = null;\r\n          err.value = formatError(error.response.data.msg);\r\n        }\r\n      };\r\n  \r\n      const formatError = (errorMessage) => {\r\n        return errorMessage.replace(/\\n/g, '<br>');\r\n      };\r\n  \r\n      return {\r\n        email,\r\n        password,\r\n        err,\r\n        succ,\r\n        login\r\n      };\r\n    }\r\n  };\r\n  </script>\r\n  \r\n  <style scoped>\r\n  </style>\r\n  "],"mappings":";AAaE,SAASA,GAAE,QAAS,KAAK;AACzB,SAASC,QAAO,QAAS,MAAM;AAC/B,SAASC,SAAQ,QAAS,YAAY;AACtC,OAAOC,QAAO,MAAO,4BAA4B;AAEjD,eAAe;EACbC,KAAKA,CAAA,EAAG;IACN,MAAMC,KAAI,GAAIL,GAAG,CAAC,EAAE,CAAC;IACrB,MAAMM,QAAO,GAAIN,GAAG,CAAC,EAAE,CAAC;IACxB,MAAMO,GAAE,GAAIP,GAAG,CAAC,IAAI,CAAC;IACrB,MAAMQ,IAAG,GAAIR,GAAG,CAAC,IAAI,CAAC;IACtB,MAAMS,KAAI,GAAIR,QAAQ,CAAC,CAAC;IACxB,MAAMS,MAAK,GAAIR,SAAS,CAAC,CAAC;IAE1B,MAAMS,KAAI,GAAI,MAAAA,CAAA,KAAY;MACxB,IAAI;QACF,MAAMC,QAAO,GAAI,MAAMT,QAAQ,CAACQ,KAAK,CAAC;UACpCN,KAAK,EAAEA,KAAK,CAACQ,KAAK;UAClBP,QAAQ,EAAEA,QAAQ,CAACO;QACrB,CAAC,CAAC;QACFJ,KAAK,CAACK,QAAQ,CAAC,UAAU,EAAEF,QAAQ,CAACG,IAAI,CAACC,KAAK,CAAC;QAC/CP,KAAK,CAACK,QAAQ,CAAC,SAAS,EAAEF,QAAQ,CAACG,IAAI,CAACE,IAAI,CAAC;QAC7CR,KAAK,CAACK,QAAQ,CAAC,SAAS,EAAE,CAAC,CAAC;QAC5BJ,MAAM,CAACQ,IAAI,CAAC;UAAEC,IAAI,EAAE;QAAO,CAAC,CAAC;QAC7BZ,GAAG,CAACM,KAAI,GAAI,IAAI;QAChBL,IAAI,CAACK,KAAI,GAAID,QAAQ;MACvB,EAAE,OAAOQ,KAAK,EAAE;QACdZ,IAAI,CAACK,KAAI,GAAI,IAAI;QACjBN,GAAG,CAACM,KAAI,GAAIQ,WAAW,CAACD,KAAK,CAACR,QAAQ,CAACG,IAAI,CAACO,GAAG,CAAC;MAClD;IACF,CAAC;IAED,MAAMD,WAAU,GAAKE,YAAY,IAAK;MACpC,OAAOA,YAAY,CAACC,OAAO,CAAC,KAAK,EAAE,MAAM,CAAC;IAC5C,CAAC;IAED,OAAO;MACLnB,KAAK;MACLC,QAAQ;MACRC,GAAG;MACHC,IAAI;MACJG;IACF,CAAC;EACH;AACF,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}