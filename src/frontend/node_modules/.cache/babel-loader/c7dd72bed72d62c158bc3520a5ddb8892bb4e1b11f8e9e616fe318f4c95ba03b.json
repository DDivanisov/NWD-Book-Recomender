{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport { ref, nextTick } from 'vue';\nimport { useRouter } from 'vue-router';\nimport services from '../../services/services.js';\nexport default {\n  setup() {\n    let title = ref('');\n    let author = ref('');\n    let page_num = ref(0);\n    let description = ref('');\n    let liked = ref(0);\n    let genres = ref('');\n    let comments = ref([]);\n    let picture_link = ref('');\n    let err = ref('');\n    const router = useRouter();\n    const send = async () => {\n      err.value = \"\";\n      await nextTick();\n      try {\n        await services.createBook({\n          title: title.value,\n          author: author.value,\n          page_num: page_num.value,\n          description: description.value,\n          liked: liked.value,\n          genres: genres.value.split(',').map(genre => genre.trim()),\n          comments: comments.value,\n          picture_link: picture_link.value\n        });\n        await router.push({\n          name: 'home'\n        });\n      } catch (error) {\n        err.value = formatError(error.response.data.msg);\n      }\n    };\n    const formatError = errorMessage => {\n      return errorMessage.replace(/\\n/g, '<br>');\n    };\n    return {\n      title,\n      author,\n      page_num,\n      description,\n      liked,\n      genres,\n      comments,\n      picture_link,\n      err,\n      send\n    };\n  }\n};","map":{"version":3,"names":["ref","nextTick","useRouter","services","setup","title","author","page_num","description","liked","genres","comments","picture_link","err","router","send","value","createBook","split","map","genre","trim","push","name","error","formatError","response","data","msg","errorMessage","replace"],"sources":["C:\\Users\\mynig\\VScodium\\Book-Recommender\\frontend\\src\\views\\RecomendToAddView.vue"],"sourcesContent":["<template>\r\n    <div>\r\n      <div>\r\n        <label>Title</label>\r\n        <input placeholder=\"title\" name=\"title\" type=\"text\" v-model=\"title\" />\r\n      </div>\r\n      <div>\r\n        <label>Author</label>\r\n        <input placeholder=\"author\" name=\"author\" type=\"text\" v-model=\"author\" />\r\n      </div>\r\n      <div>\r\n        <label>Number of pages</label>\r\n        <input placeholder=\"number of pages\" name=\"page_num\" type=\"text\" v-model.number=\"page_num\" />\r\n      </div>\r\n      <div>\r\n        <label>Description</label>\r\n        <input placeholder=\"description\" name=\"description\" type=\"text\" v-model=\"description\" multi-line/>\r\n      </div>\r\n      <div>\r\n        <label>Cover image link</label>\r\n        <input placeholder=\"image link\" name=\"picture_link\" type=\"text\" v-model=\"picture_link\" />\r\n      </div>\r\n      <div>\r\n        <label>Genres</label>\r\n        <input placeholder=\"genres\" name=\"genres\" type=\"text\" v-model=\"genres\" />\r\n      </div>\r\n      <div>\r\n        <button @click=\"send\">Submit</button>\r\n      </div>\r\n      <div v-if=\"err\">\r\n        <p style=\"color: red;\" v-html=\"err\"></p>\r\n      </div>\r\n    </div>\r\n  </template>\r\n  \r\n  <script>\r\n  import { ref, nextTick } from 'vue';\r\n  import { useRouter } from 'vue-router';\r\n  import services from '../../services/services.js';\r\n  \r\n  export default {\r\n    setup() {\r\n      let title = ref('');\r\n      let author = ref('');\r\n      let page_num = ref(0);\r\n      let description = ref('');\r\n      let liked = ref(0);\r\n      let genres = ref('');\r\n      let comments = ref([]);\r\n      let picture_link = ref('');\r\n      let err = ref('');\r\n      const router = useRouter();\r\n  \r\n      const send = async () => {\r\n        err.value = \"\";\r\n        await nextTick();\r\n        try {\r\n          await services.createBook({\r\n            title: title.value,\r\n            author: author.value,\r\n            page_num: page_num.value,\r\n            description: description.value,\r\n            liked: liked.value,\r\n            genres: genres.value.split(',').map(genre => genre.trim()),\r\n            comments: comments.value,\r\n            picture_link: picture_link.value\r\n          });\r\n          await router.push({ name: 'home' });\r\n        } catch (error) {\r\n          err.value = formatError(error.response.data.msg);\r\n        }\r\n      };\r\n  \r\n      const formatError = (errorMessage) => {\r\n        return errorMessage.replace(/\\n/g, '<br>');\r\n      };\r\n  \r\n      return {\r\n        title,\r\n        author,\r\n        page_num,\r\n        description,\r\n        liked,\r\n        genres,\r\n        comments,\r\n        picture_link,\r\n        err,\r\n        send\r\n      };\r\n    }\r\n  };\r\n  </script>\r\n  \r\n  <style scoped>\r\n  </style>\r\n  "],"mappings":";AAoCE,SAASA,GAAG,EAAEC,QAAO,QAAS,KAAK;AACnC,SAASC,SAAQ,QAAS,YAAY;AACtC,OAAOC,QAAO,MAAO,4BAA4B;AAEjD,eAAe;EACbC,KAAKA,CAAA,EAAG;IACN,IAAIC,KAAI,GAAIL,GAAG,CAAC,EAAE,CAAC;IACnB,IAAIM,MAAK,GAAIN,GAAG,CAAC,EAAE,CAAC;IACpB,IAAIO,QAAO,GAAIP,GAAG,CAAC,CAAC,CAAC;IACrB,IAAIQ,WAAU,GAAIR,GAAG,CAAC,EAAE,CAAC;IACzB,IAAIS,KAAI,GAAIT,GAAG,CAAC,CAAC,CAAC;IAClB,IAAIU,MAAK,GAAIV,GAAG,CAAC,EAAE,CAAC;IACpB,IAAIW,QAAO,GAAIX,GAAG,CAAC,EAAE,CAAC;IACtB,IAAIY,YAAW,GAAIZ,GAAG,CAAC,EAAE,CAAC;IAC1B,IAAIa,GAAE,GAAIb,GAAG,CAAC,EAAE,CAAC;IACjB,MAAMc,MAAK,GAAIZ,SAAS,CAAC,CAAC;IAE1B,MAAMa,IAAG,GAAI,MAAAA,CAAA,KAAY;MACvBF,GAAG,CAACG,KAAI,GAAI,EAAE;MACd,MAAMf,QAAQ,CAAC,CAAC;MAChB,IAAI;QACF,MAAME,QAAQ,CAACc,UAAU,CAAC;UACxBZ,KAAK,EAAEA,KAAK,CAACW,KAAK;UAClBV,MAAM,EAAEA,MAAM,CAACU,KAAK;UACpBT,QAAQ,EAAEA,QAAQ,CAACS,KAAK;UACxBR,WAAW,EAAEA,WAAW,CAACQ,KAAK;UAC9BP,KAAK,EAAEA,KAAK,CAACO,KAAK;UAClBN,MAAM,EAAEA,MAAM,CAACM,KAAK,CAACE,KAAK,CAAC,GAAG,CAAC,CAACC,GAAG,CAACC,KAAI,IAAKA,KAAK,CAACC,IAAI,CAAC,CAAC,CAAC;UAC1DV,QAAQ,EAAEA,QAAQ,CAACK,KAAK;UACxBJ,YAAY,EAAEA,YAAY,CAACI;QAC7B,CAAC,CAAC;QACF,MAAMF,MAAM,CAACQ,IAAI,CAAC;UAAEC,IAAI,EAAE;QAAO,CAAC,CAAC;MACrC,EAAE,OAAOC,KAAK,EAAE;QACdX,GAAG,CAACG,KAAI,GAAIS,WAAW,CAACD,KAAK,CAACE,QAAQ,CAACC,IAAI,CAACC,GAAG,CAAC;MAClD;IACF,CAAC;IAED,MAAMH,WAAU,GAAKI,YAAY,IAAK;MACpC,OAAOA,YAAY,CAACC,OAAO,CAAC,KAAK,EAAE,MAAM,CAAC;IAC5C,CAAC;IAED,OAAO;MACLzB,KAAK;MACLC,MAAM;MACNC,QAAQ;MACRC,WAAW;MACXC,KAAK;MACLC,MAAM;MACNC,QAAQ;MACRC,YAAY;MACZC,GAAG;MACHE;IACF,CAAC;EACH;AACF,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}