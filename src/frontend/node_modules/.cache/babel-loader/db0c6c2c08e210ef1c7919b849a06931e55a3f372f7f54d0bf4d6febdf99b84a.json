{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport { ref } from 'vue';\nimport { useStore } from 'vuex';\nimport { useRouter } from 'vue-router';\nimport services from '../../services/services.js';\nexport default {\n  setup() {\n    const email = ref('');\n    const password = ref('');\n    const err = ref(null);\n    const store = useStore();\n    const router = useRouter();\n    const login = async () => {\n      try {\n        const response = await services.login({\n          email: email.value,\n          password: password.value\n        });\n        store.dispatch('setToken', response.data.token);\n        store.dispatch('setUser', response.data.user);\n        store.dispatch('setPage', 1);\n        router.push({\n          name: 'home'\n        });\n        err.value = null;\n      } catch (error) {\n        err.value = formatError(error.response?.data?.msg || 'An error occurred');\n      }\n    };\n    const formatError = errorMessage => {\n      return errorMessage.replace(/\\n/g, '<br>');\n    };\n    return {\n      email,\n      password,\n      err,\n      login\n    };\n  }\n};","map":{"version":3,"names":["ref","useStore","useRouter","services","setup","email","password","err","store","router","login","response","value","dispatch","data","token","user","push","name","error","formatError","msg","errorMessage","replace"],"sources":["C:\\Users\\mynig\\VScodium\\Book-Recommender\\frontend\\src\\views\\LoginView.vue"],"sourcesContent":["<template>\r\n  <section>\r\n    <div class=\"container mt-4 pt-5\">\r\n      <div class=\"row justify-content-center\">\r\n        <div class=\"col-12 col-sm-8 col-md-6 col-lg-5\">\r\n          <div class=\"card border-0 shadow slim-card\" style=\"background-color: rgb(250, 250, 200, 0.7);\">\r\n            <div class=\"card-body\">\r\n              <svg class=\"mx-auto my-3 bi bi-person-circle\" xmlns=\"http://www.w3.org/2000/svg\" width=\"50\" height=\"50\" fill=\"currentColor\" viewBox=\"0 0 16 16\">\r\n                <path d=\"M11 6a3 3 0 1 1-6 0 3 3 0 0 1 6 0z\" />\r\n                <path fill-rule=\"evenodd\" d=\"M0 8a8 8 0 1 1 16 0A8 8 0 0 1 0 8zm8-7a7 7 0 0 0-5.468 11.37C3.242 11.226 4.805 10 8 10s4.757 1.225 5.468 2.37A7 7 0 0 0 8 1z\" />\r\n              </svg>\r\n              <form @submit.prevent=\"login\">\r\n                <input type=\"email\" name=\"email\" class=\"form-control my-3 py-2 slim-input\" placeholder=\"Email\" v-model=\"email\" aria-label=\"Email\"/>\r\n                <input type=\"password\" name=\"password\" class=\"form-control my-3 py-2 slim-input\" placeholder=\"Password\" v-model=\"password\" aria-label=\"Password\"/>\r\n                <div class=\"text-center mt-4\">\r\n                  <button type=\"submit\" class=\"btn btn-primary\">Login</button>\r\n                  <router-link to=\"/register\" class=\"nav-link text-blue mt-3\">Create an account!</router-link>\r\n                </div>\r\n              </form>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <div class=\"container mt-3\">\r\n      <p v-if=\"err\" v-html=\"err\" class=\"text-danger\"></p>\r\n    </div>\r\n  </section>\r\n</template>\r\n\r\n\r\n\r\n<script>\r\nimport { ref } from 'vue';\r\nimport { useStore } from 'vuex';\r\nimport { useRouter } from 'vue-router';\r\nimport services from '../../services/services.js';\r\n\r\nexport default {\r\n  setup() {\r\n    const email = ref('');\r\n    const password = ref('');\r\n    const err = ref(null);\r\n    const store = useStore();\r\n    const router = useRouter();\r\n\r\n    const login = async () => {\r\n      try {\r\n        const response = await services.login({\r\n          email: email.value,\r\n          password: password.value\r\n        });\r\n        store.dispatch('setToken', response.data.token);\r\n        store.dispatch('setUser', response.data.user);\r\n        store.dispatch('setPage', 1);\r\n        router.push({ name: 'home' });\r\n        err.value = null;\r\n      } catch (error) {\r\n        err.value = formatError(error.response?.data?.msg || 'An error occurred');\r\n      }\r\n    };\r\n\r\n    const formatError = (errorMessage) => {\r\n      return errorMessage.replace(/\\n/g, '<br>');\r\n    };\r\n\r\n    return {\r\n      email,\r\n      password,\r\n      err,\r\n      login\r\n    };\r\n  }\r\n};\r\n</script>\r\n\r\n<style scoped lang=\"scss\">\r\n\r\n.slim-card {\r\n  width: 100%;\r\n  max-width: 400px;\r\n  min-height: 40px; \r\n  margin: 0 auto;\r\n  padding: 5px;\r\n}\r\n\r\n.slim-input {\r\n  width: 100%;\r\n  padding: 12px; \r\n}\r\n.text-blue {\r\n  color: #007bff; \r\n}\r\n\r\n.text-blue:hover {\r\n  color: #0056b3; \r\n}\r\n</style>\r\n"],"mappings":";AAiCA,SAASA,GAAE,QAAS,KAAK;AACzB,SAASC,QAAO,QAAS,MAAM;AAC/B,SAASC,SAAQ,QAAS,YAAY;AACtC,OAAOC,QAAO,MAAO,4BAA4B;AAEjD,eAAe;EACbC,KAAKA,CAAA,EAAG;IACN,MAAMC,KAAI,GAAIL,GAAG,CAAC,EAAE,CAAC;IACrB,MAAMM,QAAO,GAAIN,GAAG,CAAC,EAAE,CAAC;IACxB,MAAMO,GAAE,GAAIP,GAAG,CAAC,IAAI,CAAC;IACrB,MAAMQ,KAAI,GAAIP,QAAQ,CAAC,CAAC;IACxB,MAAMQ,MAAK,GAAIP,SAAS,CAAC,CAAC;IAE1B,MAAMQ,KAAI,GAAI,MAAAA,CAAA,KAAY;MACxB,IAAI;QACF,MAAMC,QAAO,GAAI,MAAMR,QAAQ,CAACO,KAAK,CAAC;UACpCL,KAAK,EAAEA,KAAK,CAACO,KAAK;UAClBN,QAAQ,EAAEA,QAAQ,CAACM;QACrB,CAAC,CAAC;QACFJ,KAAK,CAACK,QAAQ,CAAC,UAAU,EAAEF,QAAQ,CAACG,IAAI,CAACC,KAAK,CAAC;QAC/CP,KAAK,CAACK,QAAQ,CAAC,SAAS,EAAEF,QAAQ,CAACG,IAAI,CAACE,IAAI,CAAC;QAC7CR,KAAK,CAACK,QAAQ,CAAC,SAAS,EAAE,CAAC,CAAC;QAC5BJ,MAAM,CAACQ,IAAI,CAAC;UAAEC,IAAI,EAAE;QAAO,CAAC,CAAC;QAC7BX,GAAG,CAACK,KAAI,GAAI,IAAI;MAClB,EAAE,OAAOO,KAAK,EAAE;QACdZ,GAAG,CAACK,KAAI,GAAIQ,WAAW,CAACD,KAAK,CAACR,QAAQ,EAAEG,IAAI,EAAEO,GAAE,IAAK,mBAAmB,CAAC;MAC3E;IACF,CAAC;IAED,MAAMD,WAAU,GAAKE,YAAY,IAAK;MACpC,OAAOA,YAAY,CAACC,OAAO,CAAC,KAAK,EAAE,MAAM,CAAC;IAC5C,CAAC;IAED,OAAO;MACLlB,KAAK;MACLC,QAAQ;MACRC,GAAG;MACHG;IACF,CAAC;EACH;AACF,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}