{"ast":null,"code":"import { createElementVNode as _createElementVNode, openBlock as _openBlock, createElementBlock as _createElementBlock, vModelText as _vModelText, withDirectives as _withDirectives, createTextVNode as _createTextVNode, resolveComponent as _resolveComponent, withCtx as _withCtx, createVNode as _createVNode, withModifiers as _withModifiers, createCommentVNode as _createCommentVNode, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\";\nconst _withScopeId = n => (_pushScopeId(\"data-v-5c6101e4\"), n = n(), _popScopeId(), n);\nconst _hoisted_1 = {\n  class: \"container mt-4 pt-5\"\n};\nconst _hoisted_2 = {\n  class: \"row justify-content-center\"\n};\nconst _hoisted_3 = {\n  class: \"col-12 col-sm-8 col-md-6 col-lg-5\"\n};\nconst _hoisted_4 = {\n  class: \"card border-0 shadow slim-card\"\n};\nconst _hoisted_5 = {\n  class: \"card-body\"\n};\nconst _hoisted_6 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"svg\", {\n  class: \"mx-auto my-3 bi bi-person-circle\",\n  xmlns: \"http://www.w3.org/2000/svg\",\n  width: \"50\",\n  height: \"50\",\n  fill: \"currentColor\",\n  viewBox: \"0 0 16 16\"\n}, [/*#__PURE__*/_createElementVNode(\"path\", {\n  d: \"M11 6a3 3 0 1 1-6 0 3 3 0 0 1 6 0z\"\n}), /*#__PURE__*/_createElementVNode(\"path\", {\n  \"fill-rule\": \"evenodd\",\n  d: \"M0 8a8 8 0 1 1 16 0A8 8 0 0 1 0 8zm8-7a7 7 0 0 0-5.468 11.37C3.242 11.226 4.805 10 8 10s4.757 1.225 5.468 2.37A7 7 0 0 0 8 1z\"\n})], -1 /* HOISTED */));\nconst _hoisted_7 = {\n  class: \"text-center mt-4\"\n};\nconst _hoisted_8 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"button\", {\n  type: \"submit\",\n  class: \"btn btn-primary\"\n}, \"Login\", -1 /* HOISTED */));\nconst _hoisted_9 = {\n  class: \"container mt-3\"\n};\nconst _hoisted_10 = [\"innerHTML\"];\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_router_link = _resolveComponent(\"router-link\");\n  return _openBlock(), _createElementBlock(\"section\", null, [_createElementVNode(\"div\", _hoisted_1, [_createElementVNode(\"div\", _hoisted_2, [_createElementVNode(\"div\", _hoisted_3, [_createElementVNode(\"div\", _hoisted_4, [_createElementVNode(\"div\", _hoisted_5, [_hoisted_6, _createElementVNode(\"form\", {\n    onSubmit: _cache[2] || (_cache[2] = _withModifiers((...args) => $setup.login && $setup.login(...args), [\"prevent\"]))\n  }, [_withDirectives(_createElementVNode(\"input\", {\n    type: \"email\",\n    name: \"email\",\n    class: \"form-control my-3 py-2 slim-input\",\n    placeholder: \"Email\",\n    \"onUpdate:modelValue\": _cache[0] || (_cache[0] = $event => $setup.email = $event),\n    \"aria-label\": \"Email\"\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $setup.email]]), _withDirectives(_createElementVNode(\"input\", {\n    type: \"password\",\n    name: \"password\",\n    class: \"form-control my-3 py-2 slim-input\",\n    placeholder: \"Password\",\n    \"onUpdate:modelValue\": _cache[1] || (_cache[1] = $event => $setup.password = $event),\n    \"aria-label\": \"Password\"\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $setup.password]]), _createElementVNode(\"div\", _hoisted_7, [_hoisted_8, _createVNode(_component_router_link, {\n    to: \"/register\",\n    class: \"nav-link text-blue mt-3\"\n  }, {\n    default: _withCtx(() => [_createTextVNode(\"Create an account!\")]),\n    _: 1 /* STABLE */\n  })])], 32 /* NEED_HYDRATION */)])])])])]), _createElementVNode(\"div\", _hoisted_9, [$setup.err ? (_openBlock(), _createElementBlock(\"p\", {\n    key: 0,\n    innerHTML: $setup.err,\n    class: \"text-danger\"\n  }, null, 8 /* PROPS */, _hoisted_10)) : _createCommentVNode(\"v-if\", true)])]);\n}","map":{"version":3,"names":["class","_createElementVNode","xmlns","width","height","fill","viewBox","d","type","_createElementBlock","_hoisted_1","_hoisted_2","_hoisted_3","_hoisted_4","_hoisted_5","_hoisted_6","onSubmit","_cache","_withModifiers","args","$setup","login","name","placeholder","$event","email","password","_hoisted_7","_hoisted_8","_createVNode","_component_router_link","to","default","_withCtx","_createTextVNode","_","_hoisted_9","err","key","innerHTML","_hoisted_10","_createCommentVNode"],"sources":["C:\\Users\\mynig\\VScodium\\Book-Recommender\\frontend\\src\\views\\LoginView.vue"],"sourcesContent":["<template>\r\n  <section>\r\n    <div class=\"container mt-4 pt-5\">\r\n      <div class=\"row justify-content-center\">\r\n        <div class=\"col-12 col-sm-8 col-md-6 col-lg-5\">\r\n          <div class=\"card border-0 shadow slim-card\">\r\n            <div class=\"card-body\">\r\n              <svg class=\"mx-auto my-3 bi bi-person-circle\" xmlns=\"http://www.w3.org/2000/svg\" width=\"50\" height=\"50\" fill=\"currentColor\" viewBox=\"0 0 16 16\">\r\n                <path d=\"M11 6a3 3 0 1 1-6 0 3 3 0 0 1 6 0z\" />\r\n                <path fill-rule=\"evenodd\" d=\"M0 8a8 8 0 1 1 16 0A8 8 0 0 1 0 8zm8-7a7 7 0 0 0-5.468 11.37C3.242 11.226 4.805 10 8 10s4.757 1.225 5.468 2.37A7 7 0 0 0 8 1z\" />\r\n              </svg>\r\n              <form @submit.prevent=\"login\">\r\n                <input type=\"email\" name=\"email\" class=\"form-control my-3 py-2 slim-input\" placeholder=\"Email\" v-model=\"email\" aria-label=\"Email\"/>\r\n                <input type=\"password\" name=\"password\" class=\"form-control my-3 py-2 slim-input\" placeholder=\"Password\" v-model=\"password\" aria-label=\"Password\"/>\r\n                <div class=\"text-center mt-4\">\r\n                  <button type=\"submit\" class=\"btn btn-primary\">Login</button>\r\n                  <router-link to=\"/register\" class=\"nav-link text-blue mt-3\">Create an account!</router-link>\r\n                </div>\r\n              </form>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <div class=\"container mt-3\">\r\n      <p v-if=\"err\" v-html=\"err\" class=\"text-danger\"></p>\r\n    </div>\r\n  </section>\r\n</template>\r\n\r\n\r\n\r\n<script>\r\nimport { ref } from 'vue';\r\nimport { useStore } from 'vuex';\r\nimport { useRouter } from 'vue-router';\r\nimport services from '../../services/services.js';\r\n\r\nexport default {\r\n  setup() {\r\n    const email = ref('');\r\n    const password = ref('');\r\n    const err = ref(null);\r\n    const store = useStore();\r\n    const router = useRouter();\r\n\r\n    const login = async () => {\r\n      try {\r\n        const response = await services.login({\r\n          email: email.value,\r\n          password: password.value\r\n        });\r\n        store.dispatch('setToken', response.data.token);\r\n        store.dispatch('setUser', response.data.user);\r\n        store.dispatch('setPage', 1);\r\n        router.push({ name: 'home' });\r\n        err.value = null;\r\n      } catch (error) {\r\n        err.value = formatError(error.response?.data?.msg || 'An error occurred');\r\n      }\r\n    };\r\n\r\n    const formatError = (errorMessage) => {\r\n      return errorMessage.replace(/\\n/g, '<br>');\r\n    };\r\n\r\n    return {\r\n      email,\r\n      password,\r\n      err,\r\n      login\r\n    };\r\n  }\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n\r\n.slim-card {\r\n  width: 100%;\r\n  max-width: 400px;\r\n  min-height: 40px; \r\n  margin: 0 auto;\r\n  padding: 5px;\r\n}\r\n\r\n.slim-input {\r\n  width: 100%;\r\n  padding: 12px; \r\n}\r\n.text-blue {\r\n  color: #007bff; \r\n}\r\n\r\n.text-blue:hover {\r\n  color: #0056b3; \r\n}\r\n</style>\r\n"],"mappings":";;;EAESA,KAAK,EAAC;AAAqB;;EACzBA,KAAK,EAAC;AAA4B;;EAChCA,KAAK,EAAC;AAAmC;;EACvCA,KAAK,EAAC;AAAgC;;EACpCA,KAAK,EAAC;AAAW;gEACpBC,mBAAA,CAGM;EAHDD,KAAK,EAAC,kCAAkC;EAACE,KAAK,EAAC,4BAA4B;EAACC,KAAK,EAAC,IAAI;EAACC,MAAM,EAAC,IAAI;EAACC,IAAI,EAAC,cAAc;EAACC,OAAO,EAAC;iBAClIL,mBAAA,CAA+C;EAAzCM,CAAC,EAAC;AAAoC,I,aAC5CN,mBAAA,CAA8J;EAAxJ,WAAS,EAAC,SAAS;EAACM,CAAC,EAAC;;;EAKvBP,KAAK,EAAC;AAAkB;gEAC3BC,mBAAA,CAA4D;EAApDO,IAAI,EAAC,QAAQ;EAACR,KAAK,EAAC;GAAkB,OAAK;;EAS5DA,KAAK,EAAC;AAAgB;oBAxB/B;;;uBACES,mBAAA,CA0BU,kBAzBRR,mBAAA,CAqBM,OArBNS,UAqBM,GApBJT,mBAAA,CAmBM,OAnBNU,UAmBM,GAlBJV,mBAAA,CAiBM,OAjBNW,UAiBM,GAhBJX,mBAAA,CAeM,OAfNY,UAeM,GAdJZ,mBAAA,CAaM,OAbNa,UAaM,GAZJC,UAGM,EACNd,mBAAA,CAOO;IAPAe,QAAM,EAAAC,MAAA,QAAAA,MAAA,MAX3BC,cAAA,KAAAC,IAAA,KAWqCC,MAAA,CAAAC,KAAA,IAAAD,MAAA,CAAAC,KAAA,IAAAF,IAAA,CAAK;sBAC1BlB,mBAAA,CAAmI;IAA5HO,IAAI,EAAC,OAAO;IAACc,IAAI,EAAC,OAAO;IAACtB,KAAK,EAAC,mCAAmC;IAACuB,WAAW,EAAC,OAAO;IAZ9G,uBAAAN,MAAA,QAAAA,MAAA,MAAAO,MAAA,IAYwHJ,MAAA,CAAAK,KAAK,GAAAD,MAAA;IAAE,YAAU,EAAC;iDAAlBJ,MAAA,CAAAK,KAAK,E,mBAC7GxB,mBAAA,CAAkJ;IAA3IO,IAAI,EAAC,UAAU;IAACc,IAAI,EAAC,UAAU;IAACtB,KAAK,EAAC,mCAAmC;IAACuB,WAAW,EAAC,UAAU;IAbvH,uBAAAN,MAAA,QAAAA,MAAA,MAAAO,MAAA,IAaiIJ,MAAA,CAAAM,QAAQ,GAAAF,MAAA;IAAE,YAAU,EAAC;iDAArBJ,MAAA,CAAAM,QAAQ,E,GACzHzB,mBAAA,CAGM,OAHN0B,UAGM,GAFJC,UAA4D,EAC5DC,YAAA,CAA4FC,sBAAA;IAA/EC,EAAE,EAAC,WAAW;IAAC/B,KAAK,EAAC;;IAhBpDgC,OAAA,EAAAC,QAAA,CAgB8E,MAAkB,CAhBhGC,gBAAA,CAgB8E,oBAAkB,E;IAhBhGC,CAAA;6CAwBIlC,mBAAA,CAEM,OAFNmC,UAEM,GADKhB,MAAA,CAAAiB,GAAG,I,cAAZ5B,mBAAA,CAAmD;IAzBzD6B,GAAA;IAyBoBC,SAAY,EAAJnB,MAAA,CAAAiB,GAAG;IAAErC,KAAK,EAAC;0BAzBvCwC,WAAA,KAAAC,mBAAA,e","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}